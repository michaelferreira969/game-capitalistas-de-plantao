<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!--Meta Tags Obrigatórias-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--Estilo-->
    <link rel="stylesheet" href="css/style.css">

    <!--Favicon Dinheiro-->
    <link rel="shortcut icon" href="img/dinheiro-icon.png" type="image/x-icon">
    
    <title>Game Capitalistas de Plantão</title>
</head>
<body id="fim-de-jogo">
    <div id="container"><!--Inicio do container-->

        <div id="area-central">
            <img id="imagem" src="" width="200px" alt="">
            <h1 id="h1"></h1>
            <div id="area-resultados">
                Seu tempo foi <span id="tempo"></span>
                <br>
                Total de pontos: <span id="pontos"></span>
            </div>
            <div id="area-btn">
                <button class="btn" onclick="window.location.href = 'jogo.html'">
                    Jogar Novamente
                </button>
            </div>
        </div>
        <div id="autor">
            Desenvolvido por:
            <a href="https://linkedin.com/in/michaelferreira969/">Michael Ferreira</a> |
            <a href="https://linkedin.com/in/">Victor Barbosa</a> |
            <a href="https://linkedin.com/in/">Walax Santos</a>
        </div>


    </div><!--Fim do container-->

    <script>
        let url = null; //Variável para guardar url
        let vetorTempoPontos = []; //Vetor que vai guardar strings
        let tempo = 0; //variável que vai guardar o tempo em segundos
        let pontos = 0; //Variável que vai guardar a pontuação

        //Pegar itens do url
        url = window.location.search;

        //Substituir ?
        url = url.replace('?', '');

        //Substituir -
        url = url.replace('-', ' ');

        //Separar string
        vetorTempoPontos = url.split(' ');
    
        //Atribuir as variaveis cada string
        tempo = vetorTempoPontos[0];
        pontos = vetorTempoPontos[1];

        //Convertendo o tipo das variáveis
        tempo = parseInt(tempo);
        pontos = parseInt(pontos);
        
        //Se o tempo passou de 60 segundos converter para minutos
        if(tempo >= 60) {
            tempo = (tempo / 60);
            
            //Pegar 1 casa decimal
            tempo = tempo.toFixed(2);

            //Formatação de relógio
            tempo = tempo.replace('.', ' min ');
        }

        //Pegar o elemento html de imagem
        let imagem = document.getElementById('imagem');

        //APresentar mensagens dependendo da pontuação
        if(pontos < 10) {
            //Apresentar entre o h1 
            document.getElementById('h1').innerHTML = 'Tá aprendendo, né?';   
            
            //Mudar imagem
            imagem.src = 'img/karl-marx.png';
        }
        else if(pontos >= 10 && pontos < 20) {
            //Apresentar entre o h1 
            document.getElementById('h1').innerHTML = 'Ufa! Melhorou!';       
            
            //Mudar imagem
            imagem.src = 'img/galo-cego.png';
        }
        else if(pontos >= 20 && pontos < 30) {
            //Apresentar entre o h1 
            document.getElementById('h1').innerHTML = 'Mandou muito bem!';  
            
            //Mudar imagem
            imagem.src = 'img/snoop-dogg.gif';
        }
        else if(pontos >= 30 && pontos < 40) {
            //Apresentar entre o h1 
            document.getElementById('h1').innerHTML = 'Excepcional!';    
            
            //Mudar imagem
            imagem.src = 'img/like-a-boss.png';
        }
        else if(pontos >= 40) {
            //Apresentar entre o h1 
            document.getElementById('h1').innerHTML = 'Chuck Norris?';
            
            //Mudar imagem
            imagem.src = 'img/chuck-norris.png';
        }
        
        //Apresentar tempo entre o span 
        document.getElementById('tempo').innerHTML = tempo + ' s';

        //Apresentar pontos entre o span 
        document.getElementById('pontos').innerHTML = pontos;
    </script>

</body>
</html>